<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>YESINYERANG</title>
    <link rel="stylesheet" th:href="@{/css/default.css}">
    <link rel="stylesheet" th:href="@{/css/user/common.css}">
    <link rel="stylesheet" th:href="@{/css/user/search.css}">
    <script>
        const message = `[[${ message }]]`;
        if(message) {
            alert(message);
        }
    </script>
</head>
<body>
<div class="wrapper">
    <!-- HEADER -->
    <div th:replace="user/layout/header.html"></div>
    <!-- //HEADER -->

    <!-- contents -->
    <div class="search_cont">
        <!-- "키워드" 검색결과 (갯수) -->
        <div style="padding-top: 60px; display: flex">
            <p th:text="'&quot;' + ${keyword} + '&quot; 검색 결과'"></p>
            <!-- 검색 결과 게시글 수 -->
            <span th:text="${count}" style="padding: 0 5px 0 5px; border-radius: 12px; background-color: var(--main-color); color: #ffffff"></span>
        </div>
        <!-- 제목, 내용 버튼 & 검색창 -->
        <div style="display: flex">
            <div>
                <form class="search_bar" th:action="@{/search}" method="get">
                    <input type="hidden" name="searchType" value="">
                    <input type="hidden" name="keyword" th:value="${keyword}">
                    <button type="submit">제목+내용</button>
                </form>
            </div>
            <div>
                <form class="search_bar" th:action="@{/search}" method="get">
                    <input type="hidden" name="searchType" value="title">
                    <input type="hidden" name="keyword" th:value="${keyword}">
                    <button type="submit">제목</button>
                </form>
            </div>
            <div>
                <form class="search_bar" th:action="@{/search}" method="get">
                    <input type="hidden" name="searchType" value="context">
                    <input type="hidden" name="keyword" th:value="${keyword}">
                    <button type="submit">내용</button>
                </form>
            </div>
            <div></div>
        </div>
        <!-- 게시글 리스트 -->
        <div style="padding-top: 20px; padding-bottom: 60px">
            <div th:each="post : ${postList}">
                <div  style="border: 1px solid #D9DAF1; border-radius: 12px; margin-bottom: 24px; padding: 10px;">
                    <!-- 이미지 -->
                    <div></div>
                    <!-- 내용 -->
                    <p th:text="${post.mainCategory}"></p>
                    <p th:text="${post.postTitle}"></p>
                    <p th:text="${#strings.length(post.postContext) &gt; 100} ? ${#strings.substring(post.postContext, 0, 99) + '...'} : ${post.postContext}"></p>
                    <p th:text="${post.member.nickname}"></p>
                    <p class="eng"><span th:text="${#dates.format(post.postDate, 'yyyy-MM-dd')}"></span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <div th:replace="user/layout/footer.html"></div>
    <!-- //FOOTER -->
</div>
<script th:src="@{/js/common.js}"></script>

</body>
</html>